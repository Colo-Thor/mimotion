添加  .github/workflows/reset.yml
添加  reset_step.py
修改 cron_convert.sh 中随机分钟数 "RANDOM % 59" 为 "RANDOM % 40"
修改 main.py
# 获取当前时间对应的最大和最小步数
def get_min_max_by_time(hour=None, minute=None):
    if hour is None:
        hour = time_bj.hour
    if minute is None:
        minute = time_bj.minute
    print('time: ' + str(hour) + ':' + str(minute))
    time_rate = min((hour * 60 + minute) / (18 * 60), 1)
    min_step = get_int_value_default(config, 'MIN_STEP', 18000)
    max_step = get_int_value_default(config, 'MAX_STEP', 25000)
    return int(time_rate * min_step), int(time_rate * max_step)

def read_least_step():
    file_path = r"least_step"
    if os.path.exists(file_path):
        with open(file_path, 'r', encoding="utf-8") as f:
            return int(f.read())
    else:
        return 0

def save_least_step(step):
    file_path = r"least_step"
    with open(file_path, 'w', encoding="utf-8") as f:
        f.write(str(step))
        f.flush()
        f.close()

def login_and_post_step(self, min_step, max_step):
    if self.invalid:
        return "账号或密码配置有误", False
    app_token = self.login()
    if app_token is None:
        return "登陆失败！", False

    step = str(random.randint(min_step, max_step))
    least_step = read_least_step()
    if int(step) < least_step:
        step = str(least_step + 10)
    save_least_step(int(step))
    self.log_str += f"已设置为随机步数范围({min_step}~{max_step}) 随机值:{step}\n"
    ok, msg = zeppHelper.post_fake_brand_data(step, app_token, self.user_id)
    return f"修改步数（{step}）[" + msg + "]", ok
